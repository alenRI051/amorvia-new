/* Amorvia layout + interactivity hotfix (v5)
   Goals:
   - Background behind everything, never intercepts clicks
   - Characters at bottom left/right (absolute) above background
   - Toolbar + dialog clearly above canvas so buttons work
*/

/* Canvas baseline stacking */
.canvas {
  position: relative !important;
  z-index: 0 !important;
  overflow: visible !important;
}

/* Background image spans canvas, behind all */
.canvas img.bg {
  display: block !important;
  position: absolute !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  z-index: 0 !important;
  pointer-events: none !important; /* never block UI */
  opacity: 1 !important;
  visibility: visible !important;
}

/* Characters: anchored bottom-left/right, above bg */
.canvas .character {
  position: absolute !important;
  bottom: 0 !important;
  z-index: 1 !important;
  opacity: 1 !important;
  visibility: visible !important;
}
.canvas .character.left  { left: 8% !important; }
.canvas .character.right { right: 8% !important; }

.canvas .character img {
  display: block !important;
  position: relative !important;
  z-index: 1 !important;
  opacity: 1 !important;
  visibility: visible !important;
}

/* UI panels above characters so clicks work (e.g., High Contrast) */
.panel.toolbar,
.panel.dialog {
  position: relative !important;
  z-index: 10 !important;
}

/* Ensure buttons are clickable even if overlapped accidentally */
.panel.toolbar button,
.panel.dialog button {
  position: relative;
  z-index: 11;
}
