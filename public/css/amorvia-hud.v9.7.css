
/* Amorvia HUD v9.7 â€“ Polish Pack (CSS)
   - 3-col grid on desktop, stacks on mobile
   - Clear labels, WCAG-friendly contrast
   - Smooth progress animations (respects prefers-reduced-motion)
   - Works with #hud generated by JS (amorviaHudRender)
*/

:root {
  --hud-gap: 14px;
  --hud-radius: 14px;
  --hud-track-h: 14px;
  --hud-label-size: 12.5px;
  --hud-badge-size: 11px;

  /* Colors */
  --hud-track: rgba(255,255,255,0.10);
  --hud-track-edge-top: rgba(255,255,255,0.08);
  --hud-track-edge-bottom: rgba(0,0,0,0.25);

  --hud-trust: linear-gradient(90deg, #6AA9FF, #3B82F6);
  --hud-tension: linear-gradient(90deg, #F59E0B, #EF4444);
  --hud-child: linear-gradient(90deg, #34D399, #10B981);

  --hud-glow-trust: rgba(59,130,246,.35);
  --hud-glow-tension: rgba(239,68,68,.35);
  --hud-glow-child: rgba(16,185,129,.35);
}

/* Grid container */
#hud.hud {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--hud-gap);
  align-items: center;
}

/* Responsive: stack on small screens */
@media (max-width: 900px) {
  #hud.hud {
    grid-template-columns: 1fr;
  }
}

/* Meter layout */
#hud .meter {
  display: grid;
  grid-template-rows: auto var(--hud-track-h);
  row-gap: 6px;
  min-width: 0;
}

#hud .meter .label {
  display: flex;
  justify-content: space-between;
  font-size: var(--hud-label-size);
  font-weight: 600;
  letter-spacing: .2px;
  opacity: .95;
}

#hud .meter .label .value {
  font-variant-numeric: tabular-nums;
  font-size: var(--hud-badge-size);
  opacity: .85;
}

/* Track + fill */
#hud .meter .track {
  position: relative;
  height: var(--hud-track-h);
  border-radius: 999px;
  background: var(--hud-track);
  box-shadow:
    inset 0 1px 0 var(--hud-track-edge-top),
    inset 0 -1px 0 var(--hud-track-edge-bottom);
  overflow: hidden;
}

#hud .meter .fill {
  position: absolute;
  inset: 0 auto 0 0;
  width: 0%;
  border-radius: 999px;
  will-change: width;
  transition: width .35s ease;
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
  #hud .meter .fill { transition: none; }
}

/* Color variants */
#hud .meter[data-key="trust"] .fill {
  background: var(--hud-trust);
  box-shadow: 0 0 8px var(--hud-glow-trust);
}
#hud .meter[data-key="tension"] .fill {
  background: var(--hud-tension);
  box-shadow: 0 0 8px var(--hud-glow-tension);
}
#hud .meter[data-key="childStress"] .fill,
#hud .meter[data-key="childstress"] .fill {
  background: var(--hud-child);
  box-shadow: 0 0 8px var(--hud-glow-child);
}

/* Small niceties inside the dialog panel */
.panel.dialog .row,
.panel.dialog .choices { gap: 10px; }
.panel.dialog { border-radius: 16px; }
