/* scene-canvas.css — Canvas background layer for Amorvia (v1)
   Enabled when <body data-scene-canvas="on"> is present.
*/

html, body { height: 100%; }

#sceneCanvas{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;
  pointer-events: none;
}

/* Ensure UI layers render above the canvas */
#app, .hud, .modal, .toast, .dialog, #topBar, #titleAndList, main {
  position: relative;
  z-index: 2;
}

/* Hide legacy IMG stage only when scene canvas is enabled */
body[data-scene-canvas="on"] .stage .canvas,
body[data-scene-canvas="on"] #bgImg,
body[data-scene-canvas="on"] #leftImg,
body[data-scene-canvas="on"] #rightImg {
  display: none !important;
}
/* --- Scene Canvas: always behind UI --- */
#sceneCanvas{
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0 !important;
  pointer-events: none;
}

/* Ensure everything interactive is above */
#topBar,
#titleAndList,
main,
.stage,
.stage .toolbar,
.stage .dialog,
#dialog,
#choices,
#hud,
.hud {
  position: relative;
  z-index: 10;
}

/* Make stage/dialog panels transparent so background shows */
.stage,
.stage .panel,
.stage .dialog,
.stage .toolbar {
  background: transparent !important;
}

/* Optional: keep text readable with a soft glass panel */
.stage .dialog {
  background: rgba(10, 12, 16, 0.55) !important;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,0.08);
}
/* --- Bottom Dock for dialog + choices + HUD --- */
.stage {
  position: relative;
}

/* panel dialog držimo pri dnu stage-a */
.stage .dialog {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 18px;          /* fino podešavanje */
  width: min(980px, calc(100% - 32px));
  margin: 0 !important;
}

/* ostavi malo prostora da ne “udari” u rub na manjim ekranima */
@media (max-width: 768px) {
  .stage .dialog {
    bottom: 12px;
    width: calc(100% - 20px);
  }
}
